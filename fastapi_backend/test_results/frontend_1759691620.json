{
  "id": "frontend_1759691620",
  "timestamp": "2025-10-05T12:13:42.105012",
  "test_type": "frontend",
  "status": "failed",
  "total_tests": 0,
  "passed_tests": 0,
  "failed_tests": 0,
  "duration": 1.9595239162445068,
  "output": "\n> frontend@0.1.0 test\n> react-scripts test --watchAll=false --passWithNoTests\n\nFAIL src/components/__tests__/Profile.test.js\n  \u25cf Profile Component \u203a renders user profile information\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:46:11)\n\n  \u25cf Profile Component \u203a displays masked PII when profile is masked\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:75:11)\n\n  \u25cf Profile Component \u203a displays profile images in carousel\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:88:11)\n\n  \u25cf Profile Component \u203a shows request access button for masked profile\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:110:11)\n\n  \u25cf Profile Component \u203a allows requesting access to PII\n\n    TypeError: _userEvent.default.setup is not a function\n\n      128 |     api.createAccessRequest.mockImplementation(mockRequestAccess);\n      129 |\n    > 130 |     const user = userEvent.setup();\n          |                            ^\n      131 |     render(<Profile />);\n      132 |\n      133 |     await waitFor(() => {\n\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:130:28)\n\n  \u25cf Profile Component \u203a shows add to favorites button\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:146:11)\n\n  \u25cf Profile Component \u203a allows adding user to favorites\n\n    TypeError: _userEvent.default.setup is not a function\n\n      160 |     api.addToFavorites.mockImplementation(mockAddToFavorites);\n      161 |\n    > 162 |     const user = userEvent.setup();\n          |                            ^\n      163 |     render(<Profile />);\n      164 |\n      165 |     await waitFor(() => {\n\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:162:28)\n\n  \u25cf Profile Component \u203a shows send message button\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:178:11)\n\n  \u25cf Profile Component \u203a handles missing profile data gracefully\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:189:11)\n\n  \u25cf Profile Component \u203a displays profile actions for own profile\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:201:11)\n\nFAIL src/components/__tests__/Login.test.js\n  \u25cf Login Component \u203a allows user to type in inputs\n\n    TypeError: _userEvent.default.setup is not a function\n\n      39 |\n      40 |   test('allows user to type in inputs', async () => {\n    > 41 |     const user = userEvent.setup();\n         |                            ^\n      42 |     render(<Login setUser={mockSetUser} setToken={mockSetToken} />);\n      43 |\n      44 |     const usernameInput = screen.getByPlaceholderText('Enter username');\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:41:28)\n\n  \u25cf Login Component \u203a displays error message on failed login\n\n    TypeError: _userEvent.default.setup is not a function\n\n      53 |\n      54 |   test('displays error message on failed login', async () => {\n    > 55 |     const user = userEvent.setup();\n         |                            ^\n      56 |     const api = require('../../api');\n      57 |     const mockLogin = jest.fn().mockRejectedValue(new Error('Invalid credentials'));\n      58 |\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:55:28)\n\n  \u25cf Login Component \u203a redirects to register page when link is clicked\n\n    TypeError: _userEvent.default.setup is not a function\n\n      76 |\n      77 |   test('redirects to register page when link is clicked', async () => {\n    > 78 |     const user = userEvent.setup();\n         |                            ^\n      79 |     render(<Login setUser={mockSetUser} setToken={mockSetToken} />);\n      80 |\n      81 |     const registerLink = screen.getByText(/register/i);\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:78:28)\n\n  \u25cf Login Component \u203a shows loading state during login\n\n    TypeError: _userEvent.default.setup is not a function\n\n      87 |\n      88 |   test('shows loading state during login', async () => {\n    > 89 |     const user = userEvent.setup();\n         |                            ^\n      90 |     const api = require('../../api');\n      91 |     const mockLogin = jest.fn().mockImplementation(() =>\n      92 |       new Promise(resolve => setTimeout(() => resolve({}), 100))\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:89:28)\n\nPASS src/components/__tests__/SearchPage.test.js\nPASS src/__tests__/api.test.js\n\nTest Suites: 2 failed, 2 passed, 4 total\nTests:       14 failed, 5 passed, 19 total\nSnapshots:   0 total\nTime:        1.161 s\nRan all test suites.\n",
  "error": "FAIL src/components/__tests__/Profile.test.js\n  \u25cf Profile Component \u203a renders user profile information\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:46:11)\n\n  \u25cf Profile Component \u203a displays masked PII when profile is masked\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:75:11)\n\n  \u25cf Profile Component \u203a displays profile images in carousel\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:88:11)\n\n  \u25cf Profile Component \u203a shows request access button for masked profile\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:110:11)\n\n  \u25cf Profile Component \u203a allows requesting access to PII\n\n    TypeError: _userEvent.default.setup is not a function\n\n      128 |     api.createAccessRequest.mockImplementation(mockRequestAccess);\n      129 |\n    > 130 |     const user = userEvent.setup();\n          |                            ^\n      131 |     render(<Profile />);\n      132 |\n      133 |     await waitFor(() => {\n\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:130:28)\n\n  \u25cf Profile Component \u203a shows add to favorites button\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:146:11)\n\n  \u25cf Profile Component \u203a allows adding user to favorites\n\n    TypeError: _userEvent.default.setup is not a function\n\n      160 |     api.addToFavorites.mockImplementation(mockAddToFavorites);\n      161 |\n    > 162 |     const user = userEvent.setup();\n          |                            ^\n      163 |     render(<Profile />);\n      164 |\n      165 |     await waitFor(() => {\n\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:162:28)\n\n  \u25cf Profile Component \u203a shows send message button\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:178:11)\n\n  \u25cf Profile Component \u203a handles missing profile data gracefully\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:189:11)\n\n  \u25cf Profile Component \u203a displays profile actions for own profile\n\n    TypeError: Cannot destructure property 'username' of '(0 , _reactRouterDom.useParams)(...)' as it is undefined.\n\n       7 |\n       8 | const Profile = () => {\n    >  9 |   const { username } = useParams();\n         |           ^\n      10 |   const navigate = useNavigate();\n      11 |   const [user, setUser] = useState(null);\n      12 |   const [loading, setLoading] = useState(true);\n\n      at Profile (src/components/Profile.js:9:11)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (src/components/__tests__/Profile.test.js:201:11)\n\nFAIL src/components/__tests__/Login.test.js\n  \u25cf Login Component \u203a allows user to type in inputs\n\n    TypeError: _userEvent.default.setup is not a function\n\n      39 |\n      40 |   test('allows user to type in inputs', async () => {\n    > 41 |     const user = userEvent.setup();\n         |                            ^\n      42 |     render(<Login setUser={mockSetUser} setToken={mockSetToken} />);\n      43 |\n      44 |     const usernameInput = screen.getByPlaceholderText('Enter username');\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:41:28)\n\n  \u25cf Login Component \u203a displays error message on failed login\n\n    TypeError: _userEvent.default.setup is not a function\n\n      53 |\n      54 |   test('displays error message on failed login', async () => {\n    > 55 |     const user = userEvent.setup();\n         |                            ^\n      56 |     const api = require('../../api');\n      57 |     const mockLogin = jest.fn().mockRejectedValue(new Error('Invalid credentials'));\n      58 |\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:55:28)\n\n  \u25cf Login Component \u203a redirects to register page when link is clicked\n\n    TypeError: _userEvent.default.setup is not a function\n\n      76 |\n      77 |   test('redirects to register page when link is clicked', async () => {\n    > 78 |     const user = userEvent.setup();\n         |                            ^\n      79 |     render(<Login setUser={mockSetUser} setToken={mockSetToken} />);\n      80 |\n      81 |     const registerLink = screen.getByText(/register/i);\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:78:28)\n\n  \u25cf Login Component \u203a shows loading state during login\n\n    TypeError: _userEvent.default.setup is not a function\n\n      87 |\n      88 |   test('shows loading state during login', async () => {\n    > 89 |     const user = userEvent.setup();\n         |                            ^\n      90 |     const api = require('../../api');\n      91 |     const mockLogin = jest.fn().mockImplementation(() =>\n      92 |       new Promise(resolve => setTimeout(() => resolve({}), 100))\n\n      at Object.<anonymous> (src/components/__tests__/Login.test.js:89:28)\n\nPASS src/components/__tests__/SearchPage.test.js\nPASS src/__tests__/api.test.js\n\nTest Suites: 2 failed, 2 passed, 4 total\nTests:       14 failed, 5 passed, 19 total\nSnapshots:   0 total\nTime:        1.161 s\nRan all test suites.\n"
}